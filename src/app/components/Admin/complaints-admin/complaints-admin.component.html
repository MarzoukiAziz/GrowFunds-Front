<div class="row">
    <div class="col-xl-3 col-xxl-6 col-lg-6 col-sm-6">
        <div class="widget-stat card bg-info">
            <div class="card-body  p-4">
                <div class="media">
                    <span class="me-3">
                        <i class="la la-arrow-circle-right"></i>
                    </span>
                    <div class="media-body text-white">
                        <p class="mb-1">New</p>
                        <h3 class="text-white">{{newComplaints}} / {{complaints.length}}</h3>
                        <div class="progress mb-2 bg-secondary">
                            <div class="progress-bar progress-animated bg-white" [style.width.%]="(newComplaints / complaints.length) * 100"></div>
                        </div>
                        <small>The client is currently awaiting our first response.                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-xxl-6 col-lg-6 col-sm-6">
        <div class="widget-stat card bg-warning">
            <div class="card-body p-4">
                <div class="media">
                    <span class="me-3">
                        <i class="la la-retweet"></i>
                    </span>
                    <div class="media-body text-white">
                        <p class="mb-1">In Progress</p>
                        <h3 class="text-white">{{inprogessComplaints}} / {{complaints.length}}</h3>
                        <div class="progress mb-2 bg-primary">
                            <div class="progress-bar progress-animated bg-white"  [style.width.%]="(inprogessComplaints / complaints.length) * 100"></div>
                        </div>
                        <small>The client is waiting for us to solve his problem.                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-xxl-6 col-lg-6 col-sm-6">
        <div class="widget-stat card bg-success">
            <div class="card-body p-4">
                <div class="media">
                    <span class="me-3">
                        <i class="la la-check"></i>
                    </span>
                    <div class="media-body text-white">
                        <p class="mb-1">Resolved</p>
                        <h3 class="text-white">{{resolvesComplaints}} / {{complaints.length}}</h3>
                        <div class="progress mb-2 bg-primary">
                            <div class="progress-bar progress-animated bg-white" [style.width.%]="(resolvesComplaints / complaints.length) * 100"></div>
                        </div>
                        <small>The problem mentioned in the complaint has been resolved.                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="col-xl-3 col-xxl-6 col-lg-6 col-sm-6">
        <div class="widget-stat card bg-black ">
            <div class="card-body p-4">
                <div class="media">
                    <span class="me-3">
                        <i class="la la-archive"></i>
                    </span>
                    <div class="media-body text-white">
                        <p class="mb-1">Closed</p>
                        <h3 class="text-white">{{closedComplaints}} / {{complaints.length}}</h3>
                        <div class="progress mb-2 bg-secondary">
                            <div class="progress-bar progress-animated bg-white" [style.width.%]="(closedComplaints  / complaints.length) * 100"></div>
                        </div>
                        <small>The complaint has not been taken into consideration or addressed yet.                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>  

    
</div>
<div class="row">
    <div class="col-12">
        <div class="card">
            <div class="card-header">
                <h4 class="card-title">Complaints</h4>
            </div>
            <div class="card-body">
                <div class="table-responsive">
                    <table id="example5" class="display" style="min-width: 845px">
                        <thead>
                            <tr>
                                <th>
                                    <div class="form-check custom-checkbox ms-2">
                                        <input type="checkbox" class="form-check-input" id="checkAll" required="">
                                        <label class="form-check-label" for="checkAll"></label>
                                    </div>
                                </th>
                                <th>Complaint ID</th>
                                <th>User Name</th>
                                <th>Complaint Object</th>
                                <th>Date Of Creation</th>
                                <th>Priority Level</th>
                                <th>Status</th>
                                <th>Reponses</th>
                                <th>Details</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let c of complaints">
                                <td>
                                    <div class="form-check custom-checkbox ms-2">
                                        <input type="checkbox" class="form-check-input" id="customCheckBox2" required="">
                                        <label class="form-check-label" for="customCheckBox2"></label>
                                    </div>
                                </td>
                                <td>{{c.idComplaint}}</td>
                                <td>{{c.user.username}}</td>
                                <td>{{c.objet}}</td>
                                <td>{{c.dateComplaint}}</td>
                                <td>
                                    <span *ngIf="c.priorityLevel.toString()=='LOW'" class="badge badge-info">LOW</span>
                                    <span *ngIf="c.priorityLevel.toString()=='MEDIUM'" class="badge badge-warning">MEDUIM</span>
                                    <span *ngIf="c.priorityLevel.toString()=='HIGH'" class="badge badge-danger">HIGH</span>

                                </td>
                                <td>
                                    <span *ngIf="c.status.toString()=='NEW'" class="badge light badge-primary">NEW</span>
                                    <span *ngIf="c.status.toString()=='IN_PROGRESS'" class="badge light badge-warning">IN_PROGRESS</span>
                                    <span *ngIf="c.status.toString()=='RESOLVED'" class="badge light badge-success">RESOLVED</span>
                                    <span *ngIf="c.status.toString()=='CLOSED'" class="badge light badge-dark">CLOSED</span>

                                </td>
                                <td>{{c.responses.length}}</td>
                                <td>
                                    <button type="button" class="btn btn-square btn-outline-success"><a style="color: white;" href="/admin/complaints/c/{{c.idComplaint}}">Check</a></button>

                                </td>


                            </tr>
                            
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</div>